SISTEMA DE RESERVAS DE ESTADIO - DOCUMENTACION GENERAL
=====================================================

1. Proposito general
--------------------
Aplicacion de consola en C++17 que gestiona reservas de boletos para eventos
en un estadio. Se basa en un modelo MVC: los modelos describen eventos,
usuarios y reservas; los controladores coordinan la logica; las vistas
generan las salidas en texto; y los utilitarios aportan estructuras de datos
propias, ordenamiento y persistencia en MongoDB.

2. Archivos de entrada, salida y compilacion
--------------------------------------------
- `Makefile`: compila el ejecutable `estadio` (o `estadio.exe` en Windows).
- `data/eventos.json`, `data/boletos.json`, `data/usuarios.json`: datos de
  ejemplo que pueden servir para poblar la base de datos externamente.
- `estadio` / `estadio.exe`: binarios generados tras la compilacion.

3. Punto de entrada y flujo principal
-------------------------------------
- `src/main.cpp`: inicializa las listas ligadas de usuarios, eventos e
  inventarios; carga datos desde MongoDB; construye un indice BST de eventos; y
  ejecuta el bucle de sesion que incluye login, listado de eventos, reserva,
  cancelacion, filtros por fecha, menus de ordenamiento y vistas de
  estructuras (BST y tabla hash). Gestiona las excepciones de entrada y de
  reglas de negocio.

4. Modelos de dominio (`include/model/` + `src/model/`)
------------------------------------------------------
- `Fecha`: estructura simple con anio, mes y dia. Provee `iso()` para formar
  cadenas YYYY-MM-DD, fabrica `hoy()`, parser `parseISO()`, operadores de
  comparacion y salida en texto.
- `Evento`: id, nombre y fecha del evento; operadores de igualdad y salida.
- `BoletoTipo`: enumeracion de localidades (GENERAL, TRIBUNA, PALCO) con
  conversiones `to_string` y `boleto_from_string`.
- `Reserva`: cantidades reservadas por evento y localidad; calcula el total,
  acumula reservas del mismo evento y define operadores de comparacion y
  salida.
- `InventarioEvento`: capacidad y ocupacion por tipo de boleto, limite por
  usuario y metodos para calcular disponibilidad, verificar capacidad y
  marcar ocupacion; incluye operadores de igualdad y salida.
- `Usuario`: cedula, nombre y lista circular de reservas. Permite calcular el
  total reservado por evento, buscar o acumular reservas, eliminarlas y
  comparar usuarios.

5. Estructuras de datos propias (`include/ds/`, `include/structures/`, `src/structures/`)
---------------------------------------------------------------------------------------
- `ds/LinkedList` y `ds/Node`: lista doblemente enlazada circular sin copia,
  con insercion al final, busqueda por predicado, eliminacion condicional
  (incluida `remove_first` que devuelve el elemento) y recorridos.
- `structures/BinarySearchTree`: BST generico que almacena claves `string` y
  punteros a datos sin poseerlos, con insercion, busqueda, eliminacion,
  recorrido en orden y limpieza; `src/structures/BinarySearchTree.cpp` aporta
  la instanciacion para `Evento`.
- `structures/HashTable`: envoltura sobre `std::unordered_map` para mapear
  `eventoId` a `InventarioEvento` y reconstruir la tabla al vuelo; incluye la
  funcion auxiliar `construirTablaHashInventarios`.

6. Controladores (`include/controller/` + `src/controller/`)
-----------------------------------------------------------
- `AuthController`: ejecuta el login por cedula y nombre. Valida la cedula
  ecuatoriana, usa quicksort y busqueda binaria sobre punteros a usuarios
  cargados, permite registrar usuarios nuevos y persiste los cambios en MongoDB.
- `EventoController`: encapsula reglas sobre eventos. Comprueba si una fecha
  es reservable, selecciona eventos por ID usando BST o listas ordenadas,
  localiza inventarios, filtra por fecha y busca coincidencias con busquedas
  binarias y ordenamientos auxiliares.
- `ReservaController`: gestiona reservas y cancelaciones. Verifica limites por
  usuario, disponibilidad por localidad, actualiza inventarios y reservas del
  usuario, y permite revertir ocupaciones al cancelar.
- `OrdenamientoController`: menu interactivo para aplicar distintos algoritmos
  de ordenamiento (seleccion, insercion, burbuja, shell, heapsort, mergesort,
  quicksort, radixsort, binsort) segun criterios de fecha, proximidad o
  asientos disponibles. Incluye un flujo adicional para ordenar letras de los
  nombres de usuarios y un submenu para ordenar reservas de un usuario por
  fecha, nombre de evento o total de boletos.

7. Vistas (`include/view/` + `src/view/`)
-----------------------------------------
- `MenuView`: mensajes de bienvenida, recordatorio de mayusculas/minusculas,
  listados basicos y errores.
- `Printer`: salidas formateadas de eventos, inventarios, reservas y estructuras.
  Incluye encriptado simple para mostrar la tabla hash de inventarios,
  recorridos in-order del BST de eventos y ordenamientos personalizados para
  las reservas de un usuario.

8. Utilitarios (`include/utils/` + `src/utils/`)
-----------------------------------------------
- `MongoConnection`: crea clientes configurables para MongoDB desde variables
  de entorno.
- `MongoStore`: lectura y escritura de eventos, inventarios y usuarios en
  MongoDB, poblando las listas y el indice BST.
- `DateUtils`: fabrica la fecha actual, parsea ISO y decide si un evento es
  reservable comparando fechas.
- `InputUtils`: validaciones de entrada por consola (lineas no vacias,
  enteros en rango y comprobacion basica de nombres).
- `CedulaEC`: validacion de cedulas ecuatorianas mediante longitud, provincia
  y digito verificador.
- `QuickSortPtr`: utilitario generico para ordenar arreglos o vectores de
  punteros usando quicksort in-place.
- `OrdenadorEventos` y `Comparadores`: motor generico que aplica diferentes
  algoritmos de ordenamiento sobre vectores de eventos, usando comparadores
  por fecha, proximidad o asientos disponibles y mostrando el resultado con
  conteo de cupos.
- `Exceptions`: excepciones de dominio para entradas invalidas, limites y
  cupos insuficientes.
- `BSTDemo`: demostracion opcional del BST al activar la variable
  de entorno `BST_DEMO` antes de ejecutar.
- `StringUtils`: ordena alfabeticamente las letras de un nombre luego de
  limpiar espacios.
- `FileManager`: declaracion para cargar/guardar usuarios desde archivos; no
  tiene implementacion actual ni se utiliza en el flujo principal.

9. Datos y recursos adicionales
-------------------------------
- `data/`: archiva JSONs de ejemplo para poblar eventos, usuarios e inventarios
  si se desea cargar la base de datos manualmente.
- `README.md`: resume requisitos, instrucciones de compilacion y notas de uso.
- `Makefile`: automatiza la compilacion en entornos Unix y Windows.

10. Estructura general del repositorio
--------------------------------------
- `include/`: cabeceras de modelos, estructuras de datos, controladores,
  vistas y utilitarios.
- `src/`: implementaciones en C++17 de cada componente.
- `data/`: archivos JSON de ejemplo.
- `estadio` / `estadio.exe`: ejecutables generados.

11. Flujos clave de la aplicacion
---------------------------------
- Inicio: lectura desde MongoDB y construccion del indice BST de eventos.
- Sesion: login/registro, listado de eventos filtrando reservables, menu de
  reservas y cancelaciones con actualizacion de inventarios y persistencia.
- Herramientas: menus de ordenamiento (eventos o reservas), vistas de
  estructuras (BST y tabla hash) y filtros por fecha.
